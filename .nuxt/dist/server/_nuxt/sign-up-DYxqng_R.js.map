{"version":3,"file":"sign-up-DYxqng_R.js","sources":["../../../../components/Icons/User.vue","../../../../pages/sign-up.vue"],"sourcesContent":["<template>\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" fill=\"currentColor\" class=\"h-4 w-4 opacity-70\">\n    <path\n      d=\"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z\"\n    />\n  </svg>\n</template>\n","<template>\n  <div>\n    <NuxtLayout name=\"auth\">\n      <div class=\"p-10 text-center rounded-xl bg-white\">\n        <h1 class=\"text-2xl mb-5\">Добро пожаловать в AuthApp!</h1>\n        <h2 class=\"text-lg mb-10\">Для регистрации заполните форму ниже.</h2>\n\n        <form class=\"flex flex-col gap-8\" @submit=\"onSubmit\">\n          <label class=\"input input-bordered flex items-center gap-2\">\n            <IconsUser />\n            <input\n              v-model=\"name\"\n              v-bind=\"nameAttrs\"\n              type=\"text\"\n              class=\"grow\"\n              placeholder=\"Name\"\n            />\n            <div class=\"w-[20%] text-xs text-error text-left\">\n              {{ errors.name }}\n            </div>\n          </label>\n          <label class=\"input input-bordered flex items-center gap-2\">\n            <IconsEmail class=\"h-4 w-4\" />\n            <input\n              v-model=\"email\"\n              v-bind=\"emailAttrs\"\n              type=\"email\"\n              class=\"grow\"\n              placeholder=\"Email\"\n            />\n            <div class=\"w-[20%] text-xs text-error text-left\">\n              {{ errors.email }}\n            </div>\n          </label>\n          <label class=\"input input-bordered flex items-center gap-2\">\n            <IconsPassword />\n            <input\n              v-model=\"password\"\n              v-bind=\"passwordAttrs\"\n              type=\"password\"\n              class=\"grow\"\n              placeholder=\"Password\"\n            />\n            <div class=\"w-[20%] text-xs text-error text-left\">\n              {{ errors.password }}\n            </div>\n          </label>\n          <label class=\"input input-bordered flex items-center gap-2\">\n            <IconsPassword />\n            <input\n              v-model=\"confirmPassword\"\n              v-bind=\"confirmPasswordAttrs\"\n              type=\"password\"\n              class=\"grow\"\n              placeholder=\"Confirm Password\"\n            />\n            <div class=\"w-[20%] text-xs text-error text-left\">\n              {{ errors.confirmPassword }}\n            </div>\n          </label>\n          <input type=\"submit\" value=\"Зарегистрироваться\" class=\"btn\" />\n        </form>\n        <p class=\"mt-5\">\n          Есть аккаунт?\n          <NuxtLink to=\"/login\" class=\"link link-primary\"> Войти </NuxtLink>\n        </p>\n      </div>\n    </NuxtLayout>\n  </div>\n</template>\n<script setup>\nimport { useForm } from 'vee-validate';\nimport { toTypedSchema } from '@vee-validate/zod';\nimport { z } from 'zod';\nconst { signUpUser } = useAuth();\nconst router = useRouter();\n\nconst schema = toTypedSchema(\n  z\n    .object({\n      name: z.string().min(2),\n      email: z.string().nonempty().email(),\n      password: z.string().min(4),\n      confirmPassword: z.string().min(4),\n    })\n    .refine((data) => data.password === data.confirmPassword, {\n      message: \"Passwords don't match\",\n      path: ['confirmPassword'], // path of error\n    }),\n);\n\nconst { errors, handleSubmit, defineField } = useForm({\n  validationSchema: schema,\n});\n\nconst onSubmit = handleSubmit(async (values) => {\n  try {\n    signUpUser(values);\n    router.push('/login');\n  } catch (error) {\n    console.log('error', error);\n  }\n});\n\nconst [email, emailAttrs] = defineField('email');\nconst [password, passwordAttrs] = defineField('password');\nconst [confirmPassword, confirmPasswordAttrs] = defineField('confirmPassword');\nconst [name, nameAttrs] = defineField('name');\n</script>\n"],"names":["_ssrRenderAttrs","_mergeProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAAA,eAAA,MAAA,OAAA,SAAA,QAAA;AACO,QAAA,OAAkCA,eAAAC,WAAA;AAAA,IAAC,OAAO;AAAA,IAAa,SAAmB;AAAA,IAAC;IADlF,OAAA;AAAA;;;;;;;;;;;;;AC0EA,UAAM,EAAE,WAAU,IAAK;AACvB,UAAM,SAAS,UAAS;AAExB,UAAM,SAAS;AAAA,MACb,EACG,OAAO;AAAA,QACN,MAAM,EAAE,SAAS,IAAI,CAAC;AAAA,QACtB,OAAO,EAAE,OAAQ,EAAC,SAAQ,EAAG,MAAO;AAAA,QACpC,UAAU,EAAE,SAAS,IAAI,CAAC;AAAA,QAC1B,iBAAiB,EAAE,SAAS,IAAI,CAAC;AAAA,MACvC,CAAK,EACA,OAAO,CAAC,SAAS,KAAK,aAAa,KAAK,iBAAiB;AAAA,QACxD,SAAS;AAAA,QACT,MAAM,CAAC,iBAAiB;AAAA;AAAA,MAC9B,CAAK;AAAA,IACL;AAEA,UAAM,EAAE,QAAQ,cAAc,YAAW,IAAK,QAAQ;AAAA,MACpD,kBAAkB;AAAA,IACpB,CAAC;AAED,UAAM,WAAW,aAAa,OAAO,WAAW;AAC9C,UAAI;AACF,mBAAW,MAAM;AACjB,eAAO,KAAK,QAAQ;AAAA,MACrB,SAAQ,OAAO;AACd,gBAAQ,IAAI,SAAS,KAAK;AAAA,MAC3B;AAAA,IACH,CAAC;AAED,UAAM,CAAC,OAAO,UAAU,IAAI,YAAY,OAAO;AAC/C,UAAM,CAAC,UAAU,aAAa,IAAI,YAAY,UAAU;AACxD,UAAM,CAAC,iBAAiB,oBAAoB,IAAI,YAAY,iBAAiB;AAC7E,UAAM,CAAC,MAAM,SAAS,IAAI,YAAY,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}