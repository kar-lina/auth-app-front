{"version":3,"file":"useAuth-BAyGP-af.js","sources":["../../../../composables/useAuth.ts"],"sourcesContent":["import { storeToRefs } from \"pinia\";\nimport { useAuthStore } from \"~/stores/auth\";\nexport const useAuth = () => {\n  const router = useRouter();\n  const { logUserOut, authenticateUser, signUpUser, getAuth } = useAuthStore();\n  const { authenticated, currentUser } = storeToRefs(useAuthStore());\n  const token = useCookie(\"token\");\n  if (token.value) authenticated.value = true;\n  watch(authenticated, () => {\n    if (!authenticated.value) router.push(\"/login\");\n  });\n\n  if (!currentUser.value) getAuth();\n  return {\n    logUserOut,\n    authenticateUser,\n    signUpUser,\n    authenticated,\n    token,\n    currentUser,\n    getAuth,\n  };\n};\n"],"names":[],"mappings":";;AAEO,MAAM,UAAU,MAAM;AAC3B,QAAM,SAAS;AACf,QAAM,EAAE,YAAY,kBAAkB,YAAY,QAAA,IAAY;AAC9D,QAAM,EAAE,eAAe,YAAA,IAAgB,YAAY,aAAc,CAAA;AAC3D,QAAA,QAAQ,UAAU,OAAO;AAC3B,MAAA,MAAM,MAAO,eAAc,QAAQ;AACvC,QAAM,eAAe,MAAM;AACzB,QAAI,CAAC,cAAc,MAAO,QAAO,KAAK,QAAQ;AAAA,EAAA,CAC/C;AAEG,MAAA,CAAC,YAAY,MAAe;AACzB,SAAA;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ;"}